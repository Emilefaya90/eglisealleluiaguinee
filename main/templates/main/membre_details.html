{% extends 'main/base.html' %}
{% block content %}
<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between">
    <h3 class="mb-0">Détails du membre</h3>
    <div class="d-flex gap-2">
      <a class="btn btn-secondary" href="{% url 'main:nos_fideles' %}"><i class="bi bi-arrow-left"></i> Retour</a>
      <a class="btn btn-primary" href="{% url 'main:modifier_membre' membre.id %}"><i class="bi bi-pencil-square"></i> Modifier</a>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-6">
          <h5 class="text-muted">Identité</h5>
          <div class="mb-2"><strong>Nom</strong>: {{ membre.prenom }} {{ membre.nom }}</div>
          <div class="mb-2"><strong>Sexe</strong>:
            {% if membre.sexe == 'M' %}<span class="badge text-bg-primary">Masculin</span>
            {% elif membre.sexe == 'F' %}<span class="badge text-bg-pink" style="background-color:#d63384;">Féminin</span>
            {% else %} - {% endif %}
          </div>
          <div class="mb-2"><strong>Date de naissance</strong>: {{ membre.date_naissance|date:'Y-m-d'|default:'-' }}</div>
          <div class="mb-2"><strong>Lieu de naissance</strong>: {{ membre.lieu_naissance|default:'-' }}</div>
          <div class="mb-2"><strong>Adresse</strong>: {{ membre.adresse|default:'-' }}</div>
          <div class="mb-2"><strong>Profession</strong>: {{ membre.profession|default:'-' }}</div>
        </div>

        <div class="col-md-6">
          <h5 class="text-muted">Contact & Église</h5>
          <div class="mb-2"><strong>Téléphone</strong>: {{ membre.telephone|default:'-' }}</div>
          <div class="mb-2"><strong>Email</strong>: {{ membre.email|default:'-' }}</div>
          <div class="mb-2"><strong>État civil</strong>: {{ membre.etat_civil|default:'-' }}</div>
          <div class="mb-2"><strong>Nombre d'enfants</strong>: {{ membre.nombre_enfants|default:'0' }}</div>
          <div class="mb-2"><strong>Église</strong>:
            {% if membre.eglise %}{{ membre.eglise.nom }}{% else %}-{% endif %}
          </div>
          <div class="mb-2"><strong>Date d'adhésion</strong>: {{ membre.date_adhesion|date:'Y-m-d'|default:'-' }}</div>
        </div>
      </div>

      <hr>
      <div class="row g-3">
        <div class="col-md-6">
          <h5 class="text-muted">Parcours de foi</h5>
          <div class="mb-2"><strong>Baptisé</strong>:
            {% if membre.date_bapteme or membre.lieu_bapteme %}Oui{% else %}-{% endif %}
          </div>
          <div class="mb-2"><strong>Date de baptême</strong>: {{ membre.date_bapteme|date:'Y-m-d'|default:'-' }}</div>
          <div class="mb-2"><strong>Lieu de baptême</strong>: {{ membre.lieu_bapteme|default:'-' }}</div>
          <div class="mb-2"><strong>Motivation</strong>: {{ membre.motivation|default:'-' }}</div>
          <div class="mb-2"><strong>Services</strong>: {{ membre.services|default:'-' }}</div>
        </div>

        <div class="col-md-6">
          <h5 class="text-muted">Documents</h5>
          <ul class="list-unstyled mb-0">
            <li class="mb-1">
              <i class="bi bi-file-earmark-text"></i>
              Certificat de baptême:
              {% if membre.certificat_bapteme %}
                <a href="{{ membre.certificat_bapteme.url }}" target="_blank" rel="noopener">ouvrir</a>
              {% else %}
                <span class="text-muted">Aucun</span>
              {% endif %}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
